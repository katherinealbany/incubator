###################################################################################################

./render.sh .

###################################################################################################

helm
----

./install.sh

###################################################################################################

cert-manager
------------

kubectl create namespace cert-manager --save-config=true
kubectl create secret generic cert-manager --namespace cert-manager --from-literal=aws_secret_key=CERT_MANAGER_AWS_SECRET_KEY
./install.sh

###################################################################################################

external-dns
------------

# Populate aws.secretKey value in both values files with EXTERNAL_DNS_AWS_SECRET_KEY
./install.sh

###################################################################################################

monitoring
----------

# Populate grafana.adminPassword in values file
./install.sh

###################################################################################################

nginx-ingress
-------------

./install.sh

###################################################################################################

elasticsearch
-------------

AWS_REGION=eu-west-2 ./install.sh
kubectl logs -f --namespace elasticsearch pod/elasticsearch-elasticsearch-data-0
kubectl logs -f --namespace elasticsearch pod/elasticsearch-elasticsearch-data-1
kubectl logs -f --namespace elasticsearch pod/elasticsearch-elasticsearch-data-2

###################################################################################################

kibana
------

AWS_REGION=eu-west-2 ./install.sh
kubectl logs -f --namespace kibana deploy/kibana-kibana

###################################################################################################

filebeat
--------

AWS_REGION=eu-west-2 ./install.sh
kubectl logs -f --namespace filebeat pod/filebeat-filebeat-XXXXX

###################################################################################################

vault
-----

# Populate storage.dynamodb.secret_key value in values file with VAULT_AWS_SECRET_KEY
AWS_REGION=eu-west-2 ./install.sh
kubectl logs -f --namespace vault pod/vault-vault-0
kubectl logs -f --namespace vault pod/vault-vault-1
kubectl logs -f --namespace vault pod/vault-vault-2

###################################################################################################
